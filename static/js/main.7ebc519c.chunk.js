(this["webpackJsonpsparql-visualizer"]=this["webpackJsonpsparql-visualizer"]||[]).push([[0],{107:function(e,n,t){},147:function(e,n,t){"use strict";t.r(n);var a=t(6),r=t(1),i=t.n(r),l=t(60),o=t.n(l),c=(t(85),t(9)),u=t(61),d=t(64),s=t.n(d),b=t(65),p=t.n(b),h=t(66),j=t(74),f=t(68),w=t.n(f);t(107);var m=t(3),v=t.n(m),x=t(2),O=t(18),g=t(39),y=t.n(g),P=t(69),k=t.n(P)()({instance:"https://www.wikidata.org",sparqlEndpoint:"https://query.wikidata.org/sparql"}),E=function(){var e=Object(O.a)(v.a.mark((function e(n){var t,a,r,i,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=k.sparqlQuery(n).split("?"),a=Object(c.a)(t,2),r=a[0],i=a[1],e.next=3,y.a.post(r,i);case 3:return l=e.sent,e.abrupt("return",l.data);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();function T(e,n,t){return L.apply(this,arguments)}function L(){return(L=Object(O.a)(v.a.mark((function e(n,t,a){var r,i,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(a),e.next=3,E(a);case 3:r=e.sent,i=r.results.bindings,l=S(i),console.warn(l),n(l);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){var n,t=[],a=Object(x.a)(e);try{for(a.s();!(n=a.n()).done;){var r,i,l,o,c,u,d,s,b,p,h=n.value,j=null===h||void 0===h||null===(r=h.cords)||void 0===r||null===(i=r.value)||void 0===i?void 0:i.replace(/[^\d. -]*/g,"").split(" ")[0],f=null===h||void 0===h||null===(l=h.cords)||void 0===l||null===(o=l.value)||void 0===o?void 0:o.replace(/[^\d. -]*/g,"").split(" ")[1];t.push({properties:{longitude:j,latitude:f,name:(null===h||void 0===h||null===(c=h.countryLabel)||void 0===c?void 0:c.value)||(null===h||void 0===h||null===(u=h.label)||void 0===u?void 0:u.value)||"".concat(null===h||void 0===h||null===(d=h.itemLabel)||void 0===d?void 0:d.value," - ").concat((null===h||void 0===h||null===(s=h.placeName)||void 0===s?void 0:s.value)||(null===h||void 0===h||null===(b=h.placeLabel)||void 0===b?void 0:b.value)),pop_max:(null===h||void 0===h||null===(p=h.population)||void 0===p?void 0:p.value)||1e7}})}}catch(w){a.e(w)}finally{a.f()}return t}var I=t(19),C=t(26),R=t(27),q=t(73);function N(){var e=Object(C.a)(["\n    top: 0;\n    bottom: 0;\n    background: ",";\n    border-radius: 999px;\n"]);return N=function(){return e},e}function A(){var e=Object(C.a)(["\n    height: 35px;\n    line-height: 35px;\n    width: 100px;\n    text-align: center;\n    background-color: #000;\n    color: #fff;\n    border-radius: 20%;\n    cursor: grab;\n"]);return A=function(){return e},e}function D(){var e=Object(C.a)(["\n    width: 500px;\n    height: 35px;\n"]);return D=function(){return e},e}var Q=Object(R.a)(q.a)(D()),M=R.a.div(A()),V=function(e,n){return Object(a.jsx)(M,Object(I.a)(Object(I.a)({},e),{},{children:n.valueNow}))},B=R.a.div(N(),(function(e){return 0===e.index?"#0f0":"#ddd"})),F=function(e,n){return Object(a.jsx)(B,Object(I.a)(Object(I.a)({},e),{},{index:n.index}))},H=new s.a(p.a);H.injectStyles(),Object(h.a)(H);var Y={collapse:!1,collapseText:"... show query",expandText:"... hide query",minHeight:50,maxHeight:200,textStyle:{color:"white",fontSize:"20px"}};var z={splitScreen:{display:"flex",flexDirection:"row",alignItems:"center",justifyContnent:"center"},leftPane:{width:"50%",display:"flex",flexDirection:"column"},rightPane:{width:"50%"}},W=function(){var e=i.a.useState([]),n=Object(c.a)(e,2),t=n[0],r=n[1],l=i.a.useState("Click button to see a query."),o=Object(c.a)(l,2),d=o[0],s=o[1],b=i.a.useState(1e3),p=Object(c.a)(b,2),h=p[0],f=p[1],m=i.a.useState(1e3),v=Object(c.a)(m,2),x=v[0],O=v[1];return Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)("header",{className:"App-header",children:[Object(a.jsxs)(u.a,{children:[Object(a.jsx)("meta",{charSet:"utf-8"}),Object(a.jsx)("title",{children:"Sparql Visualizer"})]}),Object(a.jsxs)("div",{style:z.splitScreen,children:[Object(a.jsxs)("div",{style:z.leftPane,children:[Object(a.jsx)(w.a,{options:Y,children:Object(a.jsxs)("p",{children:[" ",d," "]})}),Object(a.jsx)("button",{color:"primary",onClick:function(){return T(r,s,'\nSELECT DISTINCT ?countryLabel ?population ?cords\n{\n  ?country wdt:P31 wd:Q6256 ;\n           wdt:P1082 ?population ;\n           wdt:P625 ?cords.\n  SERVICE wikibase:label { bd:serviceParam wikibase:language "en" }\n}\nGROUP BY ?population ?countryLabel ?cords\nORDER BY DESC(?population)\n')},block:!0,children:"Show populations of the World"}),Object(a.jsx)("button",{color:"primary",onClick:function(){return T(r,s,'\nSELECT ?itemLabel ?cords ?placeName\nWHERE\n{\n  ?item wdt:P31 wd:Q5 .   # human\n  ?item wdt:P735 wd:Q15235674.\n  ?item wdt:P19 ?place.\n  ?place wdt:P1448 ?placeName.\n  ?place wdt:P625 ?cords.\n  SERVICE wikibase:label { bd:serviceParam wikibase:language "fr". }\n}\nLIMIT 250')},block:!0,children:"Show birthplace of people with name Antoine"}),Object(a.jsx)("button",{color:"primary",onClick:function(){return T(r,s,'\nSELECT ?label ?cords ?place\nWHERE\n{\n   ?subj wdt:P31 wd:Q744913  .\n   ?subj wdt:P625 ?cords .\n   ?subj rdfs:label ?label filter (lang(?label) = "en")\n}\nLIMIT 250')},block:!0,children:"Show air accidents query"}),Object(a.jsx)("br",{}),Object(a.jsxs)("center",{children:["Year of books less than:",Object(a.jsx)(Q,{min:0,max:2021,defaultValue:h,renderTrack:F,renderThumb:V,onChange:function(e){return f(e)}})]}),Object(a.jsx)("button",{color:"primary",onClick:function(){return T(r,s,'\n    SELECT ?label ?cords\n    WHERE\n    {\n      VALUES ?type {wd:Q571 wd:Q7725634}  # book or literary work\n      ?item wdt:P31 ?type .\n      ?item wdt:P577 ?date FILTER (?date < "'.concat(h).concat('-01-01T00:00:00Z"^^xsd:dateTime) .\n      ?item rdfs:label ?label filter (lang(?label) = "en")\n\n      OPTIONAL {\n        ?item (wdt:P291|wdt:P840) ?place .  # publication or narration place is ?place\n        ?place wdt:P625 ?cords\n      }\n    }\n    LIMIT 250'))},block:!0,children:"Show books query"}),Object(a.jsx)("br",{}),Object(a.jsxs)("center",{children:["Year of Max Bill's works grater than:",Object(a.jsx)(Q,{min:1,max:2021,defaultValue:x,renderTrack:F,renderThumb:V,onChange:function(e){return O(e)}})]}),Object(a.jsx)("button",{color:"primary",onClick:function(){return T(r,s,'\n    SELECT DISTINCT ?itemLabel ?countryLabel ?placeLabel (YEAR(?date) as ?year) ?cords\n    WHERE\n    {\n      ?item wdt:P31/wdt:P279* wd:Q860861 .\n      ?item wdt:P170 wd:Q123454 .\n      OPTIONAL { ?item wdt:P17 ?country . }\n      OPTIONAL { ?item wdt:P131 ?place . }\n      ?item wdt:P571 ?date FILTER (?date > "'.concat(x).concat('-01-01T00:00:00Z"^^xsd:dateTime) .\n      OPTIONAL { ?item wdt:P625 ?cords . }\n      OPTIONAL { ?item wdt:P18 ?image . }\n      SERVICE wikibase:label { bd:serviceParam wikibase:language "en" . }\n    }\n    ORDER BY ?itemLabel ?placeLabel\n    '))},block:!0,children:"Show max bill query"})]}),Object(a.jsx)("div",{style:z.rightPane,children:Object(a.jsx)(j.a,{globeImageUrl:"//unpkg.com/three-globe/example/img/earth-night.jpg",backgroundImageUrl:"//unpkg.com/three-globe/example/img/night-sky.png",width:1e3,height:1e3,labelsData:t,labelLat:function(e){return e.properties.latitude},labelLng:function(e){return e.properties.longitude},labelText:function(e){return e.properties.name},labelSize:function(e){return 1e-4*Math.sqrt(e.properties.pop_max)},labelDotRadius:function(e){return 5e-5*Math.sqrt(e.properties.pop_max)},labelColor:function(){return"rgba(255, 165, 0, 0.75)"},labelResolution:2})})]})]})})},U=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,150)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,i=n.getLCP,l=n.getTTFB;t(e),a(e),r(e),i(e),l(e)}))};o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(W,{})}),document.getElementById("root")),U()},85:function(e,n,t){}},[[147,1,2]]]);
//# sourceMappingURL=main.7ebc519c.chunk.js.map